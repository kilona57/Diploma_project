{% load static %}
<!DOCTYPE html>
<html style="font-size: 16px;" lang="ru">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Информация о пользователе</title>
    <link rel="stylesheet" href="/static/css/nicepage.css" media="screen">
    <link rel="stylesheet" href="/static/css/Информация о пользователе.css" media="screen">
<!--    <script class="u-script" type="text/javascript" src="/static/jquery.js" defer=""></script>-->
<!--    <script class="u-script" type="text/javascript" src="/static/nicepage.js" defer=""></script>-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <meta name="generator" content="Nicepage 7.0.3, nicepage.com">
    <meta name="referrer" content="origin">
    <link id="u-theme-google-font" rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Site1",
        "logo": "images/BlackIllustrativeSportandFitnessLogo2-no-bg-HDcarve.photos.png",
        "sameAs": [
            "#",
            "#"
        ]
    }</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Информация о пользователе">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>
<body data-home-page="Информация о пользователе.html" data-home-page-title="Регистрация" data-path-to-root="./"
      data-include-products="true" class="u-body u-xl-mode" data-lang="ru">
 <header class="u-box-shadow u-clearfix u-header u-header" id="sec-07c8" data-animation-name=""
          data-animation-duration="0" data-animation-delay="0" data-animation-direction=""><div class="u-clearfix u-sheet u-sheet-1">
        <a  class="u-image u-logo u-image-1" data-image-width="500" data-image-height="119"
           title="Главная">
      <img src="/static/images/BlackIllustrativeSportandFitnessLogo2-no-bg-HDcarve.photos1.png" class="u-logo-image u-logo-image-1">
    </a>
      </div></header>
<section class="u-clearfix u-palette-2-base u-section-1" id="sec-98f0">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <div class="custom-expanded u-align-center u-container-align-center u-container-style u-group u-radius u-shape-round u-white u-group-1">
            <div class="u-container-layout u-container-layout-1">

                    <form method="POST" id='userinfo-form'

                          class="u-clearfix u-form-spacing-16 u-form-vertical u-inner-form" source="email" name="form-1"
                          style="padding: 10px;"
                    action="{% url 'edit_profile' %}">
                        {% csrf_token %}
                            {% if form.errors %}
                                <div class="alert alert-danger">
                                    {{ form.errors }}
                                </div>
                            {% endif %}
                        <div id="step1">
                            <div class="u-absolute-hcenter u-carousel u-carousel-duration-250 u-carousel-fade u-expanded-height u-form u-form-checks-spacing-2 u-form-radios-spacing-2 u-form-1"
                     data-interval="0" data-u-ride="false">
                             <div class="u-carousel-inner" role="listbox">
                                <div class="u-carousel-item u-form-step u-slide u-active">
                                    <p class="u-align-center u-form-group u-form-text u-text u-text-grey-80 u-text-1">
                                        Информация о вас</p>
                                </div>
                             </div>

                                        <div class="u-form-group u-form-select u-form-group-2">
                                            <label for = "id_gender"class="u-label u-text-grey-80 u-label-1">Пол</label>
                                            <div class="u-form-radio-button-wrapper">
                                                <select name="gender" id="id_gender" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-1"
                                                required="required">
                                                    {% for choice in form.gender.field.choices %}
                                                        <option value="{{ choice.0 }}" {% if choice.0 == form.gender.value %}selected{% endif %}>
                                                            {{ choice.1 }}
                                                        </option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>

                                        <div class="u-form-date u-form-group u-form-group-3">
                                            <label for="id_date_of_birth" class="u-label u-text-grey-80 u-label-2">Дата рождения</label>
                                            <input type="date" id="id_date_of_birth" name="date_of_birth"
                                            class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-2"
                                           data-date-format="yyyy-mm-dd" placeholder="ГГГГ-ММ-ДД" required="required" value="{{ form.username.value|default:'' }}">
                                        </div>

                                        <div class="u-form-group u-form-select u-form-group-7">
                                            <label for="id_activity_type" class="u-label u-text-grey-80 u-label-6">Насколько вы активны?</label>
                                            <div class="u-form-radio-button-wrapper">
                                                <select name="activity_type" id="id_activity_type" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-6"
                                                required="required">
                                                    {% for choice in form.activity_type.field.choices %}
                                                        <option value="{{ choice.0 }}" {% if choice.0 == form.activity_type.value %}selected{% endif %}>
                                                            {{ choice.1 }}
                                                        </option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>

                                        <div class="u-form-group u-form-group-4">
                                            <label for="id_height" class="u-label u-text-grey-80 u-label-3">Рост</label>
                                            <input type="text" placeholder="Введите ваш текущий рост" name="height" id="id_height" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-3"
                                            value="{{ form.height.value|default:'' }}">

                                        </div>
                                        <div class="u-form-group u-form-group-5">
                                            <label for="id_weight" class="u-label u-text-grey-80 u-label-4">Вес</label>
                                            <input type="text" placeholder="Введите ваш текущий вес" name="weight" id="id_weight" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-4"
                                            value="{{ form.weight.value|default:'' }}">
                                        </div>

                                        <div class="u-form-group u-form-group-6">
                                            <label for="id_desired_weight" class="u-label u-text-grey-80 u-label-5">Желаемый вес</label>
                                            <input type="text" placeholder="Введите ваш желаемый вес" name="desired_weight" id="id_desired_weight" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-5"
                                            value="{{ form.desired_weight.value|default:'' }}">
                                        </div>


                                        <div class="u-align-center u-form-group u-form-submit">
                                             <button class="u-active-grey-70 u-border-none u-btn u-btn-round u-btn-step u-btn-step-prev u-button-style u-grey-80 u-hover-grey-75 u-radius u-btn-1" type="button" onclick="nextStep()" >Дальше</button>
                                         </div>
                            </div>
                        </div>

                        <div id="step2" style="display: none;">
                                 <div class="u-absolute-hcenter u-carousel u-carousel-duration-250 u-carousel-fade u-expanded-height u-form u-form-checks-spacing-2 u-form-radios-spacing-2 u-form-1"
                     data-interval="0" data-u-ride="false">
                                <p class="u-align-center u-form-group u-form-text u-text u-text-grey-80 u-text-2">Информация о вас</p>
                                    <div class="u-form-group u-form-radiobutton u-form-group-10">
                                        <label for="id_type_food" class="u-label u-text-grey-80 u-label-8"> Вы хотите придерживаться какого-то определенного типа питания?</label>
                                        <div class="u-form-radio-button-wrapper">
                                                <select name="type_food" id="id_type_food" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-6"
                                                required="required">
                                                    {% for choice in form.type_food.field.choices %}
                                                        <option value="{{ choice.0 }}" {% if choice.0 == form.type_food.value %}selected{% endif %}>
                                                            {{ choice.1 }}
                                                        </option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                    </div>
                                    <div class="u-form-group u-form-select u-form-group-9">
                                        <label class="u-label u-text-grey-80 u-label-7">Какова ваша главная цель?</label>
                                        <div class="u-form-radio-button-wrapper">
                                                <select name="main_goal" id="id_main_goal" class="u-input u-input-rectangle u-radius u-text-grey-80 u-input-7"
                                                required="required">
                                                    {% for choice in form.main_goal.field.choices %}
                                                        <option value="{{ choice.0 }}" {% if choice.0 == form.main_goal.value %}selected{% endif %}>
                                                            {{ choice.1 }}
                                                        </option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                    </div>
                                    <div class="u-form-checkbox-group u-form-group u-form-group-11">
                                        <label class="u-label u-text-grey-80 u-label-9" >У вас есть еще какие-то цели?</label>
                                        <div class="u-form-checkbox-group-wrapper" name="additional_fitness_goals" id="additional_fitness_goals">
                                            <div class="u-input-row">
                                                {{ form.additional_goal }}
                                            </div>
                                        </div>
                                    </div>

                                <button type="button" class="u-active-grey-70 u-border-none u-btn u-btn-round u-btn-step u-btn-step-next u-button-style u-grey-80 u-hover-grey-75 u-radius u-btn-1" onclick="prevStep()">Назад</button>

                                <button class="u-active-grey-70 u-border-none u-btn u-btn-round u-btn-submit u-button-style u-grey-80 u-hover-grey-75 u-radius u-btn-1">Отправить</button>
                            <input type="submit"  id="submit-button" value="submit" class="u-form-control-hidden" wfd-invisible="true">
                                 </div>
                        </div>
                    </form>

                                <script>
                                    function nextStep() {
                                        document.getElementById('step1').style.display = 'none';
                                        document.getElementById('step2').style.display = 'block';
                                    }

                                    function prevStep() {
                                        document.getElementById('step2').style.display = 'none';
                                        document.getElementById('step1').style.display = 'block';
                                    }
                                </script>

            </div>
        </div>
    </div>
</section>


<footer class="u-align-center u-clearfix u-container-align-center u-footer u-grey-80 u-footer" id="sec-76d7">
    <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">FitnessPro<br>Стань лучшей версией себя!
        </p>
        <div class="u-social-icons u-spacing-10 u-social-icons-1">
            <a class="u-social-url" target="_blank" href=""><span
                    class="u-icon u-icon-circle u-social-facebook u-social-icon u-text-palette-2-base u-icon-1"><svg
                    class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use
                    xlink:href="#svg-68ea"></use></svg><svg x="0px" y="0px" viewBox="0 0 112 112" id="svg-68ea"
                                                            class="u-svg-content"><path
                    d="M56.1,0C25.1,0,0,25.1,0,56.1c0,31,25.1,56.1,56.1,56.1c31,0,56.1-25.1,56.1-56.1C112.2,25.1,87.1,0,56.1,0z M71.6,34.3h-8.2c-1.3,0-3.2,0.7-3.2,3.5v7.6h11.3l-1.3,12.9h-10V95H45V58.3h-7.2V45.4H45v-8.3c0-6,2.8-15.3,15.3-15.3l11.2,0V34.3z "></path></svg></span>
            </a>
            <a class="u-social-url" target="_blank" href=""><span
                    class="u-icon u-icon-circle u-social-icon u-social-twitter u-text-palette-2-base u-icon-2"><svg
                    class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use
                    xlink:href="#svg-dcc8"></use></svg><svg x="0px" y="0px" viewBox="0 0 112 112" id="svg-dcc8"
                                                            class="u-svg-content"><path
                    d="M56.1,0C25.1,0,0,25.1,0,56.1s25.1,56.1,56.1,56.1s56.1-25.1,56.1-56.1S87.1,0,56.1,0z M83.8,47.3 c0,0.6,0,1.2,0,1.7c0,17.7-13.5,38.2-38.2,38.2c-7.6,0-14.6-2.2-20.6-6c1,0.1,2.1,0.2,3.2,0.2c6.3,0,12.1-2.1,16.7-5.7 c-5.9-0.1-10.8-4-12.5-9.3c0.8,0.2,1.7,0.2,2.5,0.2c1.2,0,2.4-0.2,3.5-0.5c-6.1-1.2-10.8-6.7-10.8-13.1c0-0.1,0-0.1,0-0.2 c1.8,1,3.9,1.6,6.1,1.7c-3.6-2.4-6-6.5-6-11.2c0-2.5,0.7-4.8,1.8-6.7c6.6,8.1,16.5,13.5,27.6,14c-0.2-1-0.3-2-0.3-3.1 c0-7.4,6-13.4,13.4-13.4c3.9,0,7.3,1.6,9.8,4.2c3.1-0.6,5.9-1.7,8.5-3.3c-1,3.1-3.1,5.8-5.9,7.4c2.7-0.3,5.3-1,7.7-2.1 C88.7,43,86.4,45.4,83.8,47.3z"></path></svg></span>
            </a>
            <a class="u-social-url" target="_blank" href=""><span
                    class="u-icon u-icon-circle u-social-icon u-social-instagram u-text-palette-2-base u-icon-3"><svg
                    class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use
                    xlink:href="#svg-f50d"></use></svg><svg x="0px" y="0px" viewBox="0 0 112 112" id="svg-f50d"
                                                            class="u-svg-content"><path
                    d="M56.1,0C25.1,0,0,25.1,0,56.1c0,31,25.1,56.1,56.1,56.1c31,0,56.1-25.1,56.1-56.1C112.2,25.1,87.1,0,56.1,0z M90.6,73.4c0,9.6-7.8,17.5-17.5,17.5H38.6c-9.6,0-17.5-7.9-17.5-17.6V38.8c0-9.6,7.8-17.5,17.5-17.5h34.5c9.6,0,17.5,7.8,17.5,17.5 V73.4z"></path><path
                    d="M73.1,28.9H38.6c-5.4,0-9.9,4.4-9.9,9.9v34.5c0,5.4,4.4,9.9,9.9,9.9h34.5c5.4,0,9.9-4.4,9.9-9.9V38.8 C83,33.4,78.6,28.9,73.1,28.9z M55.9,74C46,74,38,66,38,56.1c0-9.9,8-17.9,17.9-17.9c9.9,0,17.9,8,17.9,17.9 C73.8,66,65.8,74,55.9,74z M74.3,41.9c-2.3,0-4.2-1.9-4.2-4.2s1.9-4.2,4.2-4.2c2.3,0,4.2,1.9,4.2,4.2S76.6,41.9,74.3,41.9z"></path><path
                    d="M55.9,45.8c-5.7,0-10.4,4.6-10.3,10.3c0,5.7,4.6,10.3,10.3,10.3s10.3-4.6,10.3-10.3 C66.2,50.4,61.6,45.8,55.9,45.8z"></path></svg></span>
            </a>
            <a class="u-social-url" target="_blank" href="#"><span
                    class="u-icon u-icon-circle u-social-icon u-social-vk u-text-palette-2-base u-icon-4"><svg
                    class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use
                    xlink:href="#svg-7408"></use></svg><svg x="0px" y="0px" viewBox="0 0 112 112" id="svg-7408"
                                                            class="u-svg-content"><path
                    d="M56.1,0C25.1,0,0,25.1,0,56.1c0,31,25.1,56.1,56.1,56.1c31,0,56.1-25.1,56.1-56.1C112.2,25.1,87.1,0,56.1,0z M88.2,80.7l-9.8,0.1c0,0-2.1,0.4-4.9-1.5c-3.7-2.5-7.2-9.1-9.9-8.2C60.9,72,61,77.9,61,77.9s0,1.3-0.6,1.9c-0.7,0.7-2,0.9-2,0.9H54 c0,0-9.7,0.6-18.3-8.3c-9.3-9.7-17.6-29-17.6-29s-0.5-1.3,0-1.9c0.6-0.7,2.2-0.7,2.2-0.7l10.5-0.1c0,0,1,0.2,1.7,0.7 c0.6,0.4,0.9,1.2,0.9,1.2s1.7,4.3,4,8.2c4.4,7.6,6.4,9.3,7.9,8.4c2.2-1.2,1.5-10.7,1.5-10.7s0-3.5-1.1-5c-0.9-1.2-2.5-1.5-3.3-1.6 c-0.6-0.1,0.4-1.5,1.6-2.1c1.9-0.9,5.2-1,9.2-0.9c3.1,0,4,0.2,5.2,0.5c3.6,0.9,2.4,4.3,2.4,12.4c0,2.6-0.5,6.3,1.4,7.5 c0.8,0.5,2.8,0.1,7.7-8.3c2.3-4,4.1-8.6,4.1-8.6s0.4-0.8,1-1.2c0.6-0.4,1.4-0.3,1.4-0.3l11.1-0.1c0,0,3.3-0.4,3.9,1.1 c0.6,1.6-1.2,5.3-5.8,11.3c-7.4,9.9-8.3,9-2.1,14.7c5.9,5.5,7.1,8.1,7.3,8.5C93.4,80.4,88.2,80.7,88.2,80.7z"></path></svg></span>
            </a>
            <a class="u-social-url" target="_blank" href="#"><span
                    class="u-icon u-icon-circle u-social-icon u-social-youtube u-text-palette-2-base u-icon-5"><svg
                    class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use
                    xlink:href="#svg-aa60"></use></svg><svg x="0px" y="0px" viewBox="0 0 112 112" id="svg-aa60"
                                                            class="u-svg-content"><path
                    d="M65.9,55.7l-17.6-8.9c-0.5-0.2-1,0.1-1,0.6v17.3c0,0.5,0.5,0.9,1,0.6L65.9,57C66.4,56.8,66.4,56,65.9,55.7z"></path><path
                    d="M56.1,1.1c-30.4,0-55,24.6-55,55c0,30.4,24.6,55,55,55c30.4,0,55-24.6,55-55C111.1,25.7,86.5,1.1,56.1,1.1z M88.3,65.5 c0,7.4-6,13.4-13.4,13.4H37.3c-7.4,0-13.4-6-13.4-13.4V46.7c0-7.4,6-13.4,13.4-13.4h37.6c7.4,0,13.4,6,13.4,13.4V65.5z"></path></svg></span>
            </a>
        </div>
    </div>
</footer>

</body>
<script>
$(document).ready(function() {
    $('#userprofile-form').on('submit', function(event) {
        event.preventDefault(); // Предотвращаем стандартное поведение формы

        $.ajax({
            type: 'POST',
            url: '/edit_profile/', // URL для отправки формы
            data: $(this).serialize(), // Сериализуем данные формы
            success: function(response) {
                // Предполагаем, что сервер возвращает статус 200 на успешную регистрацию
                if (response.redirect) {
                    window.location.href = response.redirect; // Перенаправляем пользователя
                } else {
                    $('#message').text(response.message); // Показываем сообщение об успешной регистрации
                }
            },
            error: function(xhr) {
                // Обработка ошибок
                let errorMessage = xhr.responseJSON ? xhr.responseJSON.message : "Произошла ошибка!";
                $('#message').text(errorMessage);
            }
        });
    });
});
</script>
</html>